{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/BlockHistory.vue?6b18","webpack:///./src/App.vue","webpack:///./src/components/BlockHistory.vue","webpack:///./src/components/BlockHistory.vue?c945","webpack:///./src/components/Mosaic.vue","webpack:///./src/libs/image-util.js","webpack:///./src/components/Mosaic.vue?5e84","webpack:///./src/App.vue?dfb6","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/App.vue?f8b2","webpack:///./src/components/Mosaic.vue?dd18"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","style","height","width","src","href","target","class","blocks","examples","ex","seed","thumbnail","seedIndex","rangeChanged","numBlocksInRange","targetIndex","range","start","end","shuffle","error","working","ready","showOverlay","ref","props","type","Array","Number","setup","svg","emits","watch","this","moveTo","mounted","refresh","methods","groupedBlocks","groupBy","created_at","split","createTimeline","index","brush","x","gIdx","values","id","some","Math","max","min","d3","move","map","keys","margin","top","right","bottom","left","attr","brushEnded","event","selection","invert","x0","x1","startGIndex","round","endGIndex","floor","first","idx","last","$emit","extent","on","brushed","xAxis","g","tickValues","tickFormat","append","selectAll","remove","bw","f","beforebrushstarted","dx","cx","X0","X1","parentNode","join","classed","select","datum","text","render","__scopeId","createMosaic","showError","targetBlock","description","userId","exploreBlock","ImageUtil","options","w","h","flat","newVal","unflat","rect","channels","y","d1","d2","Error","hypot","front","back","v","url","img","Image","canvas","document","createElement","ctx","getContext","imgRequest","Promise","resolve","reject","crossOrigin","onerror","onload","naturalWidth","naturalHeight","drawImage","imageData","getImageData","weights","side","sqrt","halfSide","sw","sh","ch","cy","scy","scx","srcOff","wt","gx","gy","gxResult","convolve","gyResult","console","log","BASE_W","BASE_H","TARGET_W","TARGET_H","TILE_W","TILE_H","DURATION","imageCache","Map","loadThumbnailsInRange","loadImage","isNil","loadOne","drawRGBA","createImageData","putImageData","sourceImages","dist","distance","collapseTiles","getElementById","canvas2","ctx2","targetImageData2X","each","parseFloat","transition","duration","random","indices","shuffled","take","availableBlocks","b","bestTiles","tile","crop","best","enter","showTile","open","node","has","set","explorer","innerHTML","components","BlockHistory","Mosaic","computed","forEach","num","createStore","state","mutations","actions","createApp","App","use","store","mount"],"mappings":"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","file":"js/app.57ed4bbe.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/blocks-parade/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BlockHistory.vue?vue&type=style&index=0&id=52aedd80&scoped=true&lang=scss\"","<template>\n  <div style=\"display:flex; flex-direction: column; justify-content: space-evenly\">\n    <h3>Bl.ocks Parade\n      <small style=\"display:inline-flex; justify-content: center; align-items: center; background: #DDD\">\n        &nbsp;\n        <img height=\"16\" width=\"16\" src=\"https://cdn.jsdelivr.net/npm/simple-icons@v4/icons/github.svg\" />\n        &nbsp;\n        <a style=\"text-decoration: inherit\" href=\"https://github.com/mwdchang/blocks-parade\" target=\"_blank\">\n         Source\n        </a>\n        &nbsp;\n      </small>\n    </h3>\n    <div style=\"padding: 0 40px; font-size: 85%; margin-top: 10px\">\n      Let's celebrating 10 years of D3.js by taking a stroll down memory lane and rediscover your favourite bl.ocks in creative new ways!.\n      <br>Start by using the range slider below to select a time range.\n    </div>\n    <div v-if=\"blocks.length > 0\" style=\"padding: 0 40px; font-size: 85%; margin-top: 5px; margin-bottom: 5px\">\n      Or start with one of these examples:\n\n      <div v-for=\"(ex, i) of examples\" :key=\"i\"\n        class=\"button\" @click=\"seed(ex)\" style=\"display: inline-flex; padding: 5px 5px\">\n        <img :src=\"blocks[ex].thumbnail\" width=\"46\" height=\"24\" />\n      </div>\n\n      <!--<div class=\"button\" @click=\"seed(2)\">#2</div> -->\n    </div>\n    <BlockHistory\n      v-if=\"blocks.length > 0\"\n      style=\"margin-top: 5px\"\n      :seedIndex=\"seedIndex\"\n      :blocks=\"blocks\"\n      @range-changed=\"rangeChanged\"/>\n    <p style=\"padding: 0 40px\">\n      There are <span style=\"font-size: 150%\">{{ numBlocksInRange }}</span> bl.ocks in your selected time range!!<br>\n    </p>\n    <Mosaic\n      v-if=\"blocks.length > 0 && targetIndex !== null\"\n      :targetIndex=\"targetIndex\"\n      :range=\"[start, end]\"\n      :blocks=\"blocks\"\n      @shuffle=\"shuffle\"\n      @error=\"error\"\n      @working=\"working\"\n      @ready=\"ready\" />\n    <div v-if=\"showOverlay\"\n      class=\"overlay\">\n      <div class=\"lds-grid\"><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div>\n      </div>\n      Creating mosaic <br>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport BlockHistory from './components/BlockHistory.vue';\nimport Mosaic from './components/Mosaic.vue';\nimport * as data from './assets/cleaned.json';\n\nexport default {\n  name: 'App',\n  components: {\n    // eslint-disable-next-line\n    BlockHistory, Mosaic\n  },\n  setup() {\n    const blocks = ref([]);\n    const showOverlay = ref(false);\n    const showError = ref(false);\n    const targetIndex = ref(null);\n    const seedIndex = ref(null);\n    const numBlocksInRange = ref(0);\n    const start = ref(0);\n    const end = ref(1);\n    window.blocks = blocks;\n\n    return {\n      blocks,\n      targetIndex,\n      seedIndex,\n      showOverlay,\n      showError,\n      numBlocksInRange,\n      start,\n      end,\n\n      examples: [\n        4161, 255, 500, 4305, 4124, 4266, 10104, 6164\n      ]\n    };\n  },\n  computed: {\n    targetBlock() {\n      return this.blocks[this.targetIndex];\n    }\n  },\n  mounted() {\n    this.refresh();\n  },\n  methods: {\n    async refresh() {\n      const blocks = data.default;\n      blocks.forEach((b, i) => {\n        b.idx = i;\n      });\n      this.blocks = blocks;\n    },\n    rangeChanged(range) {\n      // this.showOverlay = true;\n      this.showError = false;\n      const [start, end] = range.map(Math.floor);\n      this.start = start;\n      this.end = end;\n\n      this.numBlocksInRange = (end - start) + 1;\n\n      if (this.seedIndex) {\n        this.targetIndex = this.seedIndex;\n      } else {\n        this.targetIndex = Math.floor(start + Math.random() * (end - start));\n      }\n      this.seedIndex = null;\n    },\n    shuffle() {\n      const start = this.start;\n      const end = this.end;\n      this.targetIndex = Math.floor(start + Math.random() * (end - start));\n      this.seedIndex = null;\n    },\n    seed(num) {\n      if (this.seedIndex === num) return;\n      // this.showOverlay = true;\n      this.seedIndex = num;\n    },\n    ready() {\n      this.showOverlay = false;\n    },\n    error() {\n      this.showError = true;\n      this.showOverlay = false;\n    },\n    working() {\n      this.showOverlay = true;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n\nbody {\n  background: #112;\n}\n\nh3 {\n  margin: 0 10px;\n}\n\np, h3, div {\n  color: #EEE2EE;\n}\n\nsmall {\n  border-radius: 2px;\n}\n\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\n.overlay {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100vw;\n  height: 100vh;\n  background: #eee;\n  opacity: 0.6;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 225%;\n  color: #222;\n}\n\n// see https://loading.io/css/\n.lds-grid {\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n}\n.lds-grid div {\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background: #369;\n  animation: lds-grid 1.2s linear infinite;\n}\n.lds-grid div:nth-child(1) {\n  top: 8px;\n  left: 8px;\n  animation-delay: 0s;\n}\n.lds-grid div:nth-child(2) {\n  top: 8px;\n  left: 32px;\n  animation-delay: -0.4s;\n}\n.lds-grid div:nth-child(3) {\n  top: 8px;\n  left: 56px;\n  animation-delay: -0.8s;\n}\n.lds-grid div:nth-child(4) {\n  top: 32px;\n  left: 8px;\n  animation-delay: -0.4s;\n}\n.lds-grid div:nth-child(5) {\n  top: 32px;\n  left: 32px;\n  animation-delay: -0.8s;\n}\n.lds-grid div:nth-child(6) {\n  top: 32px;\n  left: 56px;\n  animation-delay: -1.2s;\n}\n.lds-grid div:nth-child(7) {\n  top: 56px;\n  left: 8px;\n  animation-delay: -0.8s;\n}\n.lds-grid div:nth-child(8) {\n  top: 56px;\n  left: 32px;\n  animation-delay: -1.2s;\n}\n.lds-grid div:nth-child(9) {\n  top: 56px;\n  left: 56px;\n  animation-delay: -1.6s;\n}\n@keyframes lds-grid {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n\np {\n  font-size: 85%;\n}\n\n.button {\n  display: inline-block;\n  border-radius: 5px;\n  background: #369;\n  padding: 2px;\n  font-size: 85%;\n  margin: 0 2px;\n  padding: 3px 7px;\n  cursor: pointer;\n  min-width: 25px;\n}\n\n.button:hover {\n  opacity: 0.75;\n}\n</style>\n","<template>\n  <div style=\"box-sizing: border-box\">\n    <svg ref=\"svg\"></svg>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue';\nimport _ from 'lodash';\nimport * as d3 from 'd3';\n\nexport default {\n  props: {\n    blocks: {\n      type: Array\n    },\n    seedIndex: {\n      type: Number\n    }\n  },\n  setup() {\n    const svg = ref(null);\n    return { svg };\n  },\n  emits: [\n    'range-changed'\n  ],\n  watch: {\n    seedIndex(n) {\n      if (n === null) return;\n      this.moveTo(n);\n    }\n  },\n  mounted() {\n    this.refresh();\n  },\n  methods: {\n    refresh() {\n      this.groupedBlocks = _.groupBy(this.blocks, d => {\n        const t = d.created_at.split('-');\n        return t[0] + '-' + t[1];\n      });\n      this.createTimeline(this.groupedBlocks);\n    },\n    moveTo(index) {\n      const brush = this.brush;\n      const x = this.x;\n\n      let gIdx = 0;\n      const values = Object.values(this.groupedBlocks);\n      const id = this.blocks[index].id;\n\n      for (let i = 0; i < values.length; i++) {\n        if (_.some(values[i], d => d.id === id)) {\n          gIdx = i;\n          break;\n        }\n      }\n      const start = Math.max(0, gIdx - 2);\n      const end = Math.min(gIdx + 2, this.blocks.length - 1);\n\n      d3.select('.brush').call(brush.move, [start, end].map(x));\n    },\n    createTimeline(groupedBlocks) {\n      const keys = Object.keys(groupedBlocks);\n      const values = Object.values(groupedBlocks);\n\n      const margin = ({ top: 10, right: 30, bottom: 20, left: 30 });\n      const width = 1000;\n      const height = 90;\n\n      const svg = d3.select(this.svg)\n        .attr('viewBox', [0, 0, width, height]);\n\n      this.x = d3.scaleLinear([0, keys.length - 1], [margin.left, width - margin.right]);\n      const x = this.x;\n\n      const brushEnded = (event) => {\n        const selection = event.selection;\n        const [x0, x1] = selection.map(x.invert);\n\n        const startGIndex = Math.round(x0);\n        const endGIndex = Math.floor(x1);\n\n        const start = _.first(values[startGIndex]).idx;\n        const end = _.last(values[endGIndex]).idx;\n        this.$emit('range-changed', [start, end]);\n      };\n      this.brush = d3.brushX()\n        .extent([[margin.left, margin.top], [width - margin.right, height - margin.bottom]])\n        .on('start brush', brushed)\n        .on('end', brushEnded);\n      const brush = this.brush;\n\n      this.xAxis = g => g\n        .attr('transform', `translate(0, ${height - margin.bottom})`)\n        .call(d3.axisBottom(x).tickValues(\n          [\n            0,\n            Math.floor(keys.length / 4),\n            Math.floor(keys.length / 2),\n            Math.floor(3 * keys.length / 4),\n            keys.length - 1\n          ]\n        ).tickFormat(d => {\n          return keys[d];\n        }));\n      const xAxis = this.xAxis;\n\n      svg.append('g').call(xAxis);\n\n      // Remove ticks\n      svg.selectAll('.tick').selectAll('line').remove();\n      svg.selectAll('.domain').remove();\n\n      const bw = x(1) - x(0);\n      const f = 0.16;\n\n      svg.append('g')\n        .selectAll('rect')\n        .data(values)\n        .join('rect')\n        .attr('transform', (d, i) => {\n          return `translate(${x(i)}, 0)`;\n        })\n        .attr('x', 0)\n        .attr('y', d => {\n          return 70 - f * d.length;\n        })\n        .attr('width', bw)\n        .attr('height', d => 1 + f * d.length)\n        .attr('fill', '#4ba')\n        .attr('stroke', '#000');\n\n      svg.append('g')\n        .classed('brush', true)\n        .call(brush)\n        .call(brush.move, [60, 65].map(x))\n        .call(g => g.select('.overlay')\n          .datum({ type: 'selection' })\n          .on('mousedown touchstart', beforebrushstarted)\n        );\n\n      svg.append('text')\n        .attr('x', 15)\n        .attr('y', 15)\n        .style('fill', '#eee2ee')\n        .style('font-size', '10px')\n        .style('opacity', 0.7)\n        .text('10 years of bl.ocks, by month');\n\n      function brushed(event) {\n      }\n\n      function beforebrushstarted(event) {\n        const dx = x(1) - x(0); // Use a fixed width when recentering.\n        const [[cx]] = d3.pointers(event);\n        const [x0, x1] = [cx - dx / 2, cx + dx / 2];\n        const [X0, X1] = x.range();\n        d3.select(this.parentNode)\n          .call(brush.move, x1 > X1 ? [X1 - dx, X1]\n            : x0 < X0 ? [X0, X0 + dx] : [x0, x1]);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\nsvg {\n  /deep/ .tick {\n    opacity: 0.7;\n  }\n}\n</style>\n","import { render } from \"./BlockHistory.vue?vue&type=template&id=52aedd80&scoped=true\"\nimport script from \"./BlockHistory.vue?vue&type=script&lang=js\"\nexport * from \"./BlockHistory.vue?vue&type=script&lang=js\"\n\nimport \"./BlockHistory.vue?vue&type=style&index=0&id=52aedd80&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-52aedd80\"\n\nexport default script","<template>\n    <div>\n      <div style=\"font-size: 125%; background: #798\"\n        class=\"button\"\n        @click=\"shuffle()\">Shuffle Image</div>\n      &nbsp;\n      <div style=\"font-size: 125%\"\n        class=\"button\"\n        @click=\"createMosaic()\">Create Mosaic !!</div>\n    </div>\n\n  <div style=\"display: flex; padding: 10px 10px; justify-content: center\">\n    <div style=\"width: 320px; font-size: 85%\">\n      <div v-if=\"showError === false\">{{ targetBlock.description }}</div>\n      <div\n        v-if=\"showError === false\"\n        id=\"target-container\">\n      </div>\n      <div v-if=\"showError === true\">\n        <div style=\"font-size: 150%; color: #F60\">\n          Oops! We cannot find the image for block {{targetBlock.id}}, the data may have been changed or removed :(\n          <br>Please try a different block.\n        </div>\n      </div>\n      <div v-if=\"showError === false\"><em><strong>{{ targetBlock.userId }}</strong></em></div>\n      <div v-if=\"showError === false && targetBlock.created_at\">{{ targetBlock.created_at.split('T')[0] }} </div>\n    </div>\n    <div id=\"mosaic-container\"></div>\n    <div style=\"width: 320px; font-size: 85%\">\n      <div>{{ exploreBlock.description }} </div>\n      <div id=\"explorer-container\"></div>\n      <div><em><strong>{{ exploreBlock.userId }}</strong></em></div>\n      <div v-if=\"exploreBlock.created_at\">{{ exploreBlock.created_at.split('T')[0] }} </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport _ from 'lodash';\nimport * as d3 from 'd3';\nimport ImageUtil from '../libs/image-util';\n\nconst BASE_W = 230;\nconst BASE_H = 120;\n\nconst TARGET_W = BASE_W * 2.0;\nconst TARGET_H = BASE_H * 2.0;\n\nconst TILE_W = 23;\nconst TILE_H = 12;\n\n// eslint-disable-next-line\nconst DURATION = 3600;\n\n// eslint-disable-next-line\nconst SAMPLE_RANGE = 25;\n\nconst imageCache = new Map();\n\n// eslint-disable-next-line\nasync function loadThumbnail(blocks, startIdx, endIdx, width, height) {\n  // FIXME use web-workers to speed it up, or preprocess\n  const r = [];\n  for (let i = startIdx; i <= endIdx; i++) {\n    if (blocks[i].imageData) {\n      r.push(blocks[i]);\n      continue;\n    }\n\n    try {\n      const d = await ImageUtil.loadImage(blocks[i].thumbnail, { width, height });\n      if (!_.isNil(d)) {\n        blocks[i].imageData = d;\n        r.push(blocks[i]);\n      }\n    } catch (err) {\n      // blocks[i].imageData = null;\n    }\n  }\n  return r;\n}\n\n// eslint-disable-next-line\nasync function loadThumbnailsInRange(blocks, range, width, height) {\n  // FIXME use web-workers to speed it up, or preprocess\n  const r = [];\n  for (let i = 0; i < range.length; i++) {\n    const idx = range[i];\n\n    if (blocks[idx].imageData) {\n      r.push(blocks[idx]);\n      continue;\n    }\n\n    try {\n      const d = await ImageUtil.loadImage(blocks[idx].thumbnail, { width, height });\n      if (!_.isNil(d)) {\n        blocks[idx].imageData = d;\n        r.push(blocks[idx]);\n      }\n    } catch (err) {\n      // blocks[i].imageData = null;\n    }\n  }\n  return r;\n}\n\n\n\nasync function loadOne(blocks, idx, width, height) {\n  const d = await ImageUtil.loadImage(blocks[idx].thumbnail, { width, height });\n  return d;\n}\n\n// eslint-disable-next-line\nconst drawRGBA = (ctx, data, w, h, x = 0, y = 0) => {\n  const imageData = ctx.createImageData(w, h);\n  for (let i = 0; i < data.length; i++) {\n    const v = data[i];\n    imageData.data[i] = v;\n  }\n  ctx.putImageData(imageData, x, y);\n};\n\n\nconst findBestImage = (sourceImages, target) => {\n  let r = sourceImages[0];\n  let dist = 999999999;\n  for (let i = 0; i < sourceImages.length; i++) {\n    const d = ImageUtil.distance(target, sourceImages[i].imageData.data);\n    if (d < dist) {\n      dist = d;\n      r = sourceImages[i];\n    }\n  }\n  return r;\n};\n\n\nexport default {\n  props: {\n    blocks: {\n      type: Array\n    },\n    targetIndex: {\n      type: Number\n    },\n    range: {\n      type: Array\n    }\n  },\n  data: () => ({\n    targetBlock: {},\n    exploreBlock: {},\n    showError: false\n  }),\n  emits: ['ready'],\n  watch: {\n    targetIndex(n) {\n      if (n) {\n        this.refresh();\n      }\n    }\n  },\n  mounted() {\n    this.refresh();\n  },\n  methods: {\n    async refresh() {\n      const blocks = this.blocks;\n      const targetIndex = this.targetIndex;\n\n      this.collapseTiles();\n      d3.select('#target-container').selectAll('*').remove();\n      d3.select('#explorer-container').selectAll('*').remove();\n      this.exploreBlock = {};\n\n      // Load a random target\n      let target = null;\n      this.showError = false;\n      try {\n        target = await loadOne(blocks, targetIndex, 230, 120);\n      } catch {\n        this.showError = true;\n        this.$emit('error');\n        return;\n      }\n\n      this.targetBlock = blocks[targetIndex];\n      // console.log('target block', this.targetBlock);\n      const canvas = document.createElement('canvas');\n      canvas.width = target.width;\n      canvas.height = target.height;\n      canvas.style['z-index'] = 5;\n\n      canvas.getContext('2d').putImageData(target, 0, 0);\n      document.getElementById('target-container').append(canvas);\n\n      // Make the target image 2X larger to better git\n      const canvas2 = document.createElement('canvas');\n      canvas2.id = 'target-image';\n      canvas2.width = TARGET_W;\n      canvas2.height = TARGET_H;\n      const ctx2 = canvas2.getContext('2d');\n      ctx2.drawImage(canvas, 0, 0, TARGET_W, TARGET_H);\n      this.targetImageData2X = ctx2.getImageData(0, 0, TARGET_W, TARGET_H);\n      this.$emit('ready');\n    },\n    async collapseTiles() {\n      d3.select('#mosaic-container').select('.help-text').remove();\n      d3.select('#mosaic-container').selectAll('.tile2').classed('tile2', false).each(function() {\n        const top = parseFloat(d3.select(this).style('top'));\n        d3.select(this).transition().duration(800 + Math.random() * 250).style('top', top + Math.random() * 400 + 'px').remove();\n      });\n    },\n    async shuffle() {\n      this.showError = false;\n      this.$emit('shuffle');\n    },\n    async createMosaic() {\n      console.log(this.range);\n\n      const indices = [];\n      for (let i = this.range[0]; i <= this.range[1]; i++) {\n        indices.push(i);\n      }\n      const shuffled = _.take(_.shuffle(indices), 50);\n\n      // return;\n      this.$emit('working');\n      this.collapseTiles();\n      // d3.select('#mosaic-container').selectAll('*').remove();\n      d3.select('#explorer-container').selectAll('*').remove();\n\n      const blocks = this.blocks;\n\n      // 1. Load source images\n      const availableBlocks = await loadThumbnailsInRange(blocks, shuffled, TILE_W, TILE_H);\n      const sourceImages = [];\n      for (let i = 0; i < availableBlocks.length; i++) {\n        const b = availableBlocks[i];\n        sourceImages.push(b);\n      }\n\n      // 2. Chop and run best matching tile\n      // FIXME: Split into web-worker threads\n      const bestTiles = [];\n      for (let i = 0; i < (TARGET_W / TILE_W); i++) {\n        for (let j = 0; j < (TARGET_H / TILE_H); j++) {\n          const tile = ImageUtil.crop(this.targetImageData2X.data,\n            { width: TARGET_W, height: TARGET_H, channels: 4 },\n            { x: i * TILE_W, y: j * TILE_H, width: TILE_W, height: TILE_H }\n          );\n          const best = findBestImage(sourceImages, tile);\n          bestTiles.push({\n            tile: best,\n            left: i * TILE_W,\n            top: j * TILE_H\n          });\n        }\n      }\n      this.$emit('ready');\n\n      // Animate in\n      d3.select('#mosaic-container')\n        .selectAll('.tile2')\n        .data(bestTiles)\n        .enter()\n        .append('canvas')\n        .attr('class', () => {\n          const r = Math.random();\n          if (r < 0.33) {\n            return 'tile2 flip-z';\n          } else if (r < 0.66) {\n            return 'tile2 flip-y';\n          }\n          return 'tile2';\n        })\n        .style('position', 'absolute')\n        .style('opacity', 1.0)\n        .style('border', '1px solid #434')\n        .style('left', () => (Math.random() * 2000 - 1000) + 'px')\n        .style('top', () => (Math.random() * 2000 - 1000) + 'px')\n        .style('cursor', 'pointer')\n        .attr('width', TILE_W + 'px')\n        .attr('height', TILE_H + 'px')\n        .on('mouseover', (event, d) => {\n          this.showTile(d.tile);\n        })\n        .on('click', (event, d) => {\n          window.open(`http://bl.ocks.org/${d.tile.userId}/${d.tile.id}`, '_blank');\n        })\n        .each(function(d) {\n          const canvas = d3.select(this).node();\n          drawRGBA(canvas.getContext('2d'), d.tile.imageData.data, TILE_W, TILE_H);\n        });\n\n      await d3.selectAll('.tile2')\n        .transition()\n        .duration(DURATION)\n        .style('left', d => d.left + 'px')\n        .style('top', d => d.top + 'px')\n        .end();\n\n      d3.selectAll('.tile2').classed('flip-z', false).classed('flip-y', false);\n      d3.select('#mosaic-container').append('div')\n        .classed('help-text', true)\n        .style('position', 'absolute')\n        .style('top', '260px')\n        .style('font-size', '85%')\n        .text('Hover on tiles to see previews, click on tiles to go to the original bl.ocks');\n    },\n    async showTile(tile) {\n      this.exploreBlock = tile;\n      let imageData = null;\n      if (imageCache.has(tile.id)) {\n        imageData = imageCache.get(tile.id);\n      } else {\n        imageData = await ImageUtil.loadImage(tile.thumbnail, { width: BASE_W, height: BASE_H });\n        imageCache.set(tile.id, imageData);\n      }\n      const explorer = document.getElementById('explorer-container');\n      explorer.innerHTML = '';\n      const canvas = document.createElement('canvas');\n      canvas.width = imageData.width;\n      canvas.height = imageData.height;\n      canvas.style['z-index'] = 5;\n      canvas.getContext('2d').putImageData(imageData, 0, 0);\n      explorer.append(canvas);\n    }\n  }\n};\n</script>\n\n\n<style lang=\"scss\">\n#mosaic-container {\n  position: relative;\n  height: 250px;\n  width: 500px;\n  margin: 0px 20px;\n}\n\n#target-container {\n  min-height: 120px\n}\n\n\n.flip-z {\n  animation: z-rotate 1.8s both infinite;\n}\n\n.flip-y {\n  animation: y-rotate 1.8s both infinite;\n}\n\n\n@keyframes z-rotate {\n  0 {\n    transform: rotateZ(0);\n  }\n  50% {\n    transform: rotateZ(180deg);\n  }\n  100% {\n    transform: rotateZ(359deg);\n  }\n}\n\n@keyframes y-rotate {\n  0 {\n    transform: rotateY(0);\n  }\n  50% {\n    transform: rotateY(180deg);\n  }\n  100% {\n    transform: rotateY(0deg);\n  }\n}\n</style>\n","export default class ImageUtil {\n  /**\n   * Flattens a RGBA channel data into grey scale float array\n   */\n  static flatten(data, options) {\n    const w = options.width || 0;\n    const h = options.height || 0;\n\n    const flat = [];\n\n    for (let i = 0; i < w * h; ++i) {\n      const j = i * 4;\n      const newVal = (data[j + 0] + data[j + 1] + data[j + 2] + data[j + 3]) / 4.0;\n      flat.push(newVal / 255.0);\n    }\n    return flat;\n  }\n\n  /**\n   * Unflatten single channel to RGBA\n   */\n  static unflatten(data, options) {\n    const w = options.width || 0;\n    const h = options.height || 0;\n    const unflat = [];\n    for (let i = 0; i < w * h; ++i) {\n      // const val = data[i];\n      unflat.push(data[i] * 255);\n      unflat.push(data[i] * 255);\n      unflat.push(data[i] * 255);\n      unflat.push(255);\n    }\n    return unflat;\n  }\n\n  /**\n   * Crop a copy\n   */\n  static crop(data, options, rect) {\n    const w = options.width || 0;\n    // const h = options.height || 0;\n    const channels = options.channels;\n    const r = [];\n\n    for (let j = rect.y; j < rect.y + rect.height; j++) {\n      for (let i = rect.x; i < rect.x + rect.width; i++) {\n        const idx = (j * w * channels) + i * channels;\n        r.push(data[idx]);\n        r.push(data[idx + 1]);\n        r.push(data[idx + 2]);\n        r.push(data[idx + 3]);\n      }\n    }\n    return r;\n  }\n\n  static distance(d1, d2) {\n    if (d1.length !== d2.length) throw new Error(`Invalid size ${d1.length} ${d2.length}`);\n    return Math.hypot(...d1.map((d, i) => d - d2[i]));\n  }\n\n  static invert(data) {\n    const result = [];\n    for (let i = 0; i < data.length; i++) {\n      result.push(1 - data[i]);\n    }\n    return result;\n  }\n\n\n  // See: https://www.freecodecamp.org/news/sketchify-turn-any-image-into-a-pencil-sketch-with-10-lines-of-code-cf67fa4f68ce/\n  static dodge(front, back) {\n    const result = [];\n    for (let i = 0; i < front.length; i++) {\n      let v = front[i] / (1.0 - back[i]);\n      if (v > 1) v = 1;\n      result.push(v);\n    }\n    return result;\n  }\n\n\n  /**\n   * Load image data into RGBA numeric array, which is\n   * somewhat compatible with tensor data structure\n   *\n   * @param {string} url - the image URL\n   * @param {object} options\n   * @param {number} options.width - optional, resize to specified width\n   * @param {number} options.height - optional, resize to specified height\n   *\n   * FIXME: reuse canvas element if available\n   * FIXME: add option for channel filters\n   */\n  static async loadImage(url, options = {}) {\n    const img = new Image();\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    window.ctx = ctx;\n\n    const imgRequest = new Promise((resolve, reject) => {\n      img.crossOrigin = '';\n      img.onerror = () => {\n        reject(new Error('unable to load image'));\n      };\n      img.onload = () => {\n        img.width = options.width || img.naturalWidth;\n        img.height = options.height || img.naturalHeight;\n\n        canvas.width = img.width;\n        canvas.height = img.height;\n\n        ctx.drawImage(img, 0, 0, img.width, img.height);\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        // ctx.drawImage(img, 0, i * chunkSize, img.width, chunkSize, 0, 0, img.width, chunkSize);\n\n        resolve(imageData);\n      };\n      img.src = url;\n    });\n    return imgRequest;\n  }\n\n\n  // Filters.convolute = function(pixels, weights, opaque) {\n\n\n  // Adapted from https://www.html5rocks.com/en/tutorials/canvas/imagefilters/\n  static convolve(data, options, weights) {\n    const side = Math.round(Math.sqrt(weights.length));\n    const halfSide = Math.floor(side / 2);\n    const sw = options.width;\n    const sh = options.height;\n    const channels = options.channels;\n\n    // pad output by the convolution matrix\n    const w = sw;\n    const h = sh;\n\n    const result = [];\n    // go through the destination image pixels\n    for (let y = 0; y < h; y++) {\n      for (let x = 0; x < w; x++) {\n        // calculate the weighed sum of the source image pixels that\n        // fall under the convolution matrix\n        const ch = [];\n        for (let c = 0; c < channels; c++) {\n          ch.push(0);\n        }\n\n        // Not well defined around edges\n        // if (y - halfSide < 0 || y + halfSide >= h || x - halfSide < 0 || x + halfSide >= w) {\n        //   for (let c = 0; c < channels; c++) {\n        //     ch[c] = data[(x * w + y) * channels];\n        //   }\n        // }\n\n        for (let cy = 0; cy < side; cy++) {\n          for (let cx = 0; cx < side; cx++) {\n            const scy = y + cy - halfSide;\n            const scx = x + cx - halfSide;\n            if (scy >= 0 && scy < sh && scx >= 0 && scx < sw) {\n              const srcOff = (scy * sw + scx) * channels;\n              const wt = weights[cy * side + cx];\n\n              for (let c = 0; c < channels; c++) {\n                ch[c] += data[srcOff + c] * wt;\n              }\n            } else {\n              // Not great ... but does the job\n              for (let c = 0; c < channels; c++) {\n                ch[c] += data[(y * w + x) * channels] * (1 / weights.length) * 0.28;\n              }\n            }\n          }\n        }\n        for (let c = 0; c < channels; c++) {\n          result.push(ch[c]);\n        }\n      }\n    }\n    return result;\n  };\n\n  // Should use with channel = 1\n  static sobel(data, options) {\n    const gx = [-1, 0, 1, -2, 0, 2, -1, 0, 1];\n    const gy = [-1, -2, -1, 0, 0, 0, 1, 2, 1];\n\n    const gxResult = this.convolve(data, options, gx);\n    const gyResult = this.convolve(data, options, gy);\n\n    console.log('length', gxResult.length);\n    console.log('length', gyResult.length);\n\n    // Join\n    const r = [];\n    for (let i = 0; i < gxResult.length; i++) {\n      const v = Math.sqrt(gxResult[i] * gxResult[i] + gyResult[i] * gyResult[i]);\n      r.push(Math.min(1.0, v));\n    }\n    return r;\n  }\n\n\n  static blurGaussian = [\n    0.00000067, 0.00002292, 0.00019117, 0.00038771, 0.00019117, 0.00002292, 0.00000067,\n    0.00002292, 0.00078633, 0.00655965, 0.01330373, 0.00655965, 0.00078633, 0.00002292,\n    0.00019117, 0.00655965, 0.05472157, 0.11098164, 0.05472157, 0.00655965, 0.00019117,\n    0.00038771, 0.01330373, 0.11098164, 0.22508352, 0.11098164, 0.01330373, 0.00038771,\n    0.00019117, 0.00655965, 0.05472157, 0.11098164, 0.05472157, 0.00655965, 0.00019117,\n    0.00002292, 0.00078633, 0.00655965, 0.01330373, 0.00655965, 0.00078633, 0.00002292,\n    0.00000067, 0.00002292, 0.00019117, 0.00038771, 0.00019117, 0.00002292, 0.00000067\n  ];\n\n  static blur5x5 = [\n    1 / 25, 1 / 25, 1 / 25, 1 / 25, 1 / 25,\n    1 / 25, 1 / 25, 1 / 25, 1 / 25, 1 / 25,\n    1 / 25, 1 / 25, 1 / 25, 1 / 25, 1 / 25,\n    1 / 25, 1 / 25, 1 / 25, 1 / 25, 1 / 25,\n    1 / 25, 1 / 25, 1 / 25, 1 / 25, 1 / 25\n  ];\n\n  static blur3x3 = [\n    1 / 9, 1 / 9, 1 / 9,\n    1 / 9, 1 / 9, 1 / 9,\n    1 / 9, 1 / 9, 1 / 9\n  ];\n}\n","import { render } from \"./Mosaic.vue?vue&type=template&id=38ef783e\"\nimport script from \"./Mosaic.vue?vue&type=script&lang=js\"\nexport * from \"./Mosaic.vue?vue&type=script&lang=js\"\n\nimport \"./Mosaic.vue?vue&type=style&index=0&id=38ef783e&lang=scss\"\nscript.render = render\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=450c19fe\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=450c19fe&lang=scss\"\nscript.render = render\n\nexport default script","import { createStore } from 'vuex';\n\nexport default createStore({\n  state: {\n  },\n  mutations: {\n  },\n  actions: {\n  },\n  modules: {\n  }\n});\n","import { createApp } from 'vue';\nimport App from './App.vue';\nimport store from './store';\n\ncreateApp(App).use(store).mount('#app');\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=450c19fe&lang=scss\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Mosaic.vue?vue&type=style&index=0&id=38ef783e&lang=scss\""],"sourceRoot":""}